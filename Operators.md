#操作符
Dart 定义了下表所示的操作符。你可以重写其中的一些操作符，具体请见[Overridable operators](https://www.dartlang.org/docs/dart-up-and-running/ch02.html#overridable-operators)。

| 介绍 | 符号 |
| --- | ---- |
| 一元后缀符 | expr++ expr-- () [] . |
| 一元前缀符 | -expr !expr ~expr ++expr --expr |
| 乘法类型 | * / % ~/ |
| 加法类型 | + - |
| 位操作符 | << >> |
| 按位与 | & |
| 按位异或 | ^ |
| 按为或 | \| |
| 比较和类型测试 | >= <= > < as is is! |
| 等价 | == != |
| 逻辑与 | && |
| 逻辑或 | \|\| |
| 条件运算符 | expr1 ? expr2 : expr3 |
| 级联运算符 | .. |
| 赋值 | = *= /= /= ~/= %= += -= <<= >>= &= ^= \|= |

当你是用这些运算符的时候，你就创建了表达式。这里有一些表达式的例子：

```
a++
a + b
a = b
a == b
a ? b : c
a is T
```

在之前的操作符表中，操作符的优先级由其所在行定义，上面行内的操作符优先级大于下面行内的操作符。例如，乘法类型操作符`%`的优先级比等价操作符`==`要高，而`==`操作符的优先级又比逻辑与操作符`&&`要高。这些操作符的优先级顺序将在下面的两行代码中体现出来：

```
// 1.使用括号来提高可读性
if ((n % i == 0) && (d % i == 0))

// 2.难以阅读，但是和上面等价
if (n % i == 0 && d % i == 0)
```

>警告：对于二元运算符，其左边的操作数将会决定使用的操作符的种类。例如，当你使用一个 Vector 对象以及一个 Point 对象时， aVector + aPoint 使用的 + 是由Vector 所定义的。

##算术运算符
Dart 支持一些常规的算术运算符，具体如下表所示：

| 操作符 | 含义 |
| ----- | ---- |
| + | 加 |
| - | 减 |
| -expr | 一元减号，也被命名为负号（使后面表达式的值反过来） |
| * | 乘 |
| / | 除 |
| ~/ | 返回一个整数值的除法 |
| % | 取余，除法剩下的余数 |

具体示例：

``` 
assert(2 + 3 == 5);
assert(2 - 3 == -1);
assert(2 * 3 == 6);
assert(5 / 2 == 2.5); // 结果是double类型
assert(5 ~/ 2 == 2); // 结果是一个整数
assert(5 % 2 == 1); // 余数

print('5/2 = ${5~/2} r ${5%2}'); // 5/2 = 2 r 1
```

Dart 同时也支持前缀和后缀自增以及自减运算符。

| 操作符 | 含义 |
| ----- | ---- |
| ++var | var = var + 1（表达式中相当于var + 1） |
| var++ | var = var + 1（表达式中相当于var） |
| --var | var = var - 1（表达式中相当于var - 1） |
| var-- | var = var - 1（表达式中相当于var） |

示例*

```
var a, b;

a = 0; 
b = ++a; // 在b获得其值前先自增a
assert(a == b); // 1 == 1

a = 0;
b = a++; // 在b获得其值后自增a
assert(a != b); // 1 != 0

a = 0;
b = --a; // 在b获得其值前自减a
assert(a == b); // -1 == -1

a = 0;
b = a--; // 在b获得其值后自减a
assert(a != b); // -1 != 0
```

##等价和关系操作符
下表中包括的是等价以及关系操作符：

| 操作符 | 含义 |
| ----- | ---- |
| == | 等价；后面讨论中会有详细说明 |
| != | 不等价 |
| > | 大于 |
| < | 小于 |
| >= | 大于等于 |
| <= | 小于等于 |

如果想测试两个对象 x 和 y 是不是同一个对象，使用`==`运算符。（在少数情况下如果你想比较两个对象是否相等，需要使用[identical()](https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:core#id_identical)来替代`==`。)接下来将会说明`==`操作符是怎样起作用的：

1. 如果 x 或者 y 为 null，两者都为 null 则返回 true， 只有其中一个为 null 则返回 false。
2. 返回一个函数调用的结果：`x.==(y)`。（这个调用是正确的，像`==`这样的运算符实际上是由第一个操作数所调用的一个方法。你可以重写大部分运算符，关于这部分的内容你将在[Overridable operators](https://www.dartlang.org/docs/dart-up-and-running/ch02.html#overridable-operators)中看到。

以下是关于等价和关系运算符的用法的示例：

```
assert(2 == 2);
assert(2 != 3);
assert(3 > 2);
assert(2 < 3);
assert(3 >= 3);
assert(2 <= 3);
```

##类型测试操作符
`as`、`is` 和 `is!` 操作符在运行时用于检查类型非常便捷。

| 运算符 | 含义 |
| as | 类型转换 |
| is | 当对象是相应类型时返回 true |
| as | 当对象不是相应类型时返回 true |

如果`obj`实现了`T`所定义的借口，那么`obj is T`将返回 true。比如，`obj is Object`必然返回 true。

使用`as`操作符可以把一个对象转换为特定类型。一般来说，如果在`is`测试之后还有一些关于对象的表达式，你可以把`as``当做是is`测试的一种简写。考虑下面这段代码：

```
if (emp is Person) { // Type check
  emp.firstName = 'Bob';
}
```

你也可以通过`as`来简化代码：

```
(emp as Person).firstName = 'Bob';
```

>注意：上面两段代码并不相等。如果`emp`的值为 null 或者不是 Person 的一个对象，第一段代码不会做任何事情，第二段代码将会报错
。


##赋值运算符
就如你已经知道的，你可以使用`=`操作符来给变量赋值。同时，你也可以使用复合的赋值操作符，比如`+=`。

| = | -= | /- | %= | >>= | ^= |
| --- | --- | --- | --- | --- | ---|
| += | *= | ~/= | <<= | &= | \| |

接下来将会介绍复合的赋值运算符如何实现的：

|   说明    | 复合赋值 | 等价表达式 |
| ----- | ------- | -------- |
| 对于操作符op | a op b | a = a op b |
| 具体例子 | a += b | a = a + b |

下面的代码同时使用了赋值和复合赋值操作符：

```
var a = 2;           // 赋值运算符 =
a *= 3;              // 赋值并相乘： a = a * 3
assert(a == 6);
```

##逻辑运算符
你可以使用逻辑运算符来转置或者结合布尔值的表达式。

| 运算符 | 含义 |
| ----- | ---- |
| !expr | 将后面的表达式转置（false 转 true） |
| \|\| | 逻辑或 |
| && | 逻辑与 |

下面是逻辑运算符的用法：

```
if (!done && (col == 0 || col == 3)) {
  // ...
}
```

##位操作与移位运算符
在 Dart 中，你可以直接操作数字的每一个字位。一般来说，你会使用位操作与移位运算符来对整数进行操作。

| 运算符 | 含义 |
| ----- | --- |
| & | 与 |
| \| | 或 |
| ^ | 异或 |
| ~expr | 二元按位取补（1变成0，0变成1） |
| << | 左移 |
| >> | 右移 |

下面是关于位操作与移位运算符的说明：

```
final value = 0x22;
final bitmask = 0x0f;

assert((value & bitmask)  == 0x02);  // 与
assert((value & ~bitmask) == 0x20);  // 与非
assert((value | bitmask)  == 0x2f);  // 或
assert((value ^ bitmask)  == 0x2d);  // 异或
assert((value << 4)       == 0x220); // 左移
assert((value >> 4)       == 0x02);  // 右移
```

##其他运算符
还有一些运算符，这些运算符的说明你已经在之前看过了

| 操作符 | 名称 | 含义 |
| ----- | ---- | ---- |
|（）| 函数应用 | 表示函数调用 |
| [] | 目录 | 列表中制定索引处的值 |
| expr1 ? expr2 : expr3 | 条件运算符 | expr1 为真则返回 expr2，否则返回 expr3 |
| . | 成员访问 | 表达式的属性，例如：`foo.bar`从`foo`中选择了`bar`属性 |
| .. | 级联 | 允许你在单个对象的成员上执行多个操作，具体可见[Classes](./Classes.md)